<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/blog/styles.4e3d5c78ea94650f174b.css">@font-face{font-family:Inter;font-style:normal;font-weight:100;font-display:swap;src:url(/blog/static/Inter-Thin-9c96c7a2494ef60e8c2c75ad9baf1c5c.woff2) format("woff2"),url(/blog/static/Inter-Thin-035ae3d872fc8e111756711edc400bda.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:100;font-display:swap;src:url(/blog/static/Inter-ThinItalic-4549a6c87a091a66fa84b4153116417a.woff2) format("woff2"),url(/blog/static/Inter-ThinItalic-71242d414f94c2fb11533c9463825ba2.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:200;font-display:swap;src:url(/blog/static/Inter-ExtraLight-8381bcfb1339ad96a5675d5dcfcbcd09.woff2) format("woff2"),url(/blog/static/Inter-ExtraLight-0713a6d4f4b4357758518720b363f322.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:200;font-display:swap;src:url(/blog/static/Inter-ExtraLightItalic-3b8368534d20227d3187e9514e94f309.woff2) format("woff2"),url(/blog/static/Inter-ExtraLightItalic-97eb194f3866a7edd06d012259039d27.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:300;font-display:swap;src:url(/blog/static/Inter-Light-a1f9e860d918b33aa82a0c2c10d30d6f.woff2) format("woff2"),url(/blog/static/Inter-Light-c58ea231468353018b9f8ca321f18282.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:300;font-display:swap;src:url(/blog/static/Inter-LightItalic-778bddb259920029e780cbebc8d88f72.woff2) format("woff2"),url(/blog/static/Inter-LightItalic-5cef43e5c2a3cc7efe510e791b70d79a.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(/blog/static/Inter-Regular-1e081edc16d92d42aeccec760174fbf4.woff2) format("woff2"),url(/blog/static/Inter-Regular-3ae6a7d3890c33d857fc00bd2e4c4820.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:400;font-display:swap;src:url(/blog/static/Inter-Italic-2b94fbba68b9cd1f27d6a45d210cce99.woff2) format("woff2"),url(/blog/static/Inter-Italic-5ddabe6d5f3898bd2f4bbf2d71e3548e.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:500;font-display:swap;src:url(/blog/static/Inter-Medium-c709803c3cab6f1116039e881ecf531a.woff2) format("woff2"),url(/blog/static/Inter-Medium-95b8a98959d1af9ab432d7ffe295ef94.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:500;font-display:swap;src:url(/blog/static/Inter-MediumItalic-6b08fbd7a46708236caab921253c0763.woff2) format("woff2"),url(/blog/static/Inter-MediumItalic-0011f9a53381655f19426b308c0b33ce.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:600;font-display:swap;src:url(/blog/static/Inter-SemiBold-4663322354d4300146ac57cd55daabf2.woff2) format("woff2"),url(/blog/static/Inter-SemiBold-19b57197b819695d334b9961ee41910e.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:600;font-display:swap;src:url(/blog/static/Inter-SemiBoldItalic-30785b8aea4a0de8fe92363390bcbfd5.woff2) format("woff2"),url(/blog/static/Inter-SemiBoldItalic-32bb0e26464b0a6ff79016e6ad0af5bb.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(/blog/static/Inter-Bold-e7ae98681edfa1df7f1e3ebba0d4fb88.woff2) format("woff2"),url(/blog/static/Inter-Bold-001893789f7f342b520f29ac8af7d6ca.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:700;font-display:swap;src:url(/blog/static/Inter-BoldItalic-5d543a76df6f812a369889f4eb5c3fa1.woff2) format("woff2"),url(/blog/static/Inter-BoldItalic-712a7862d8b61bf3c30d78d4a9b567bd.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:800;font-display:swap;src:url(/blog/static/Inter-ExtraBold-a0e89d60e007ea22dad528c5dec09cd4.woff2) format("woff2"),url(/blog/static/Inter-ExtraBold-b82eef497995d28fffc2ef185211e282.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:800;font-display:swap;src:url(/blog/static/Inter-ExtraBoldItalic-e92888792dd37175d8da0cfaabc7491e.woff2) format("woff2"),url(/blog/static/Inter-ExtraBoldItalic-e3d4265af8ba0d48d6d20d1c18d46b6f.woff) format("woff")}@font-face{font-family:Inter;font-style:normal;font-weight:900;font-display:swap;src:url(/blog/static/Inter-Black-14a176339fc00af3ae93be979f1593cc.woff2) format("woff2"),url(/blog/static/Inter-Black-b90562e0cf2dcfedca0b93ad7fa447d8.woff) format("woff")}@font-face{font-family:Inter;font-style:italic;font-weight:900;font-display:swap;src:url(/blog/static/Inter-BlackItalic-d92bb7894f88ca8ebf47e041ea8328e4.woff2) format("woff2"),url(/blog/static/Inter-BlackItalic-41751fc730332b9facaea93b826197c1.woff) format("woff")}@font-face{font-family:Inter var;font-weight:100 900;font-display:swap;font-style:normal;font-named-instance:"Regular";src:url(/blog/static/Inter-roman.var-759e069c2a709969d41c53d3c4051ef1.woff2) format("woff2")}@font-face{font-family:Inter var;font-weight:100 900;font-display:swap;font-style:italic;font-named-instance:"Italic";src:url(/blog/static/Inter-italic.var-23dba457d138a98fff7b923daff6f387.woff2) format("woff2")}@font-face{font-family:Inter var experimental;font-weight:100 900;font-display:swap;font-style:oblique 0deg 10deg;src:url(/blog/static/Inter.var-7e1eda3a103b1d4d14c9dea4ced21bfb.woff2) format("woff2")}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent}button{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}button::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring{outline:1px dotted ButtonText}summary{display:list-item}h1,h2,h4,h6{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}button{cursor:pointer}h1,h2,h4,h6{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}a,button{color:inherit}button{padding:0;line-height:inherit}object{display:block;vertical-align:middle}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.flex{display:flex}.font-semibold{font-weight:600}.text-lg{font-size:1.125rem}.text-xl{font-size:1.25rem}.mt-1{margin-top:.25rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mt-4{margin-top:1rem}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.pb-2{padding-bottom:.5rem}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:root{--clr-primary:#fff;--clr-secondary:#f7fafc;--clr-border:#dde0e2;--text-primary:#000;--text-secondary:#4a5568;--dark-mode-status-svg:url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZmZmZmIiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9Ii0xMiAwIDQ0OCA0NDguMDQ1IiB3aWR0aD0iMzBweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjI0LjAyMyA0NDguMDMxYzg1LjcxNS45MDMgMTY0LjAxMi00OC40ODggMjAwLjExOC0xMjYuMjNhMTcxLjA0NCAxNzEuMDQ0IDAgMDEtNzIuMTE4IDE0LjIzYy05Ny4xNTYtLjExLTE3NS44OS03OC44NDQtMTc2LTE3NiAuOTczLTY1LjcxOSAzNy4yMzUtMTI1LjgzMiA5NC45MS0xNTcuMzUxQTMzNC40NzQgMzM0LjQ3NCAwIDAwMjI0LjAyNC4wM2MtMTIzLjcxNCAwLTIyNCAxMDAuMjktMjI0IDIyNCAwIDEyMy43MTUgMTAwLjI4NiAyMjQgMjI0IDIyNHptMCAwIi8+PC9zdmc+);--header-bg-color:#639;--text-blue:#3182ce}.dark-mode,:root{--heart-color:#e53e3e}.dark-mode{--clr-primary:#333;--clr-secondary:#212121;--clr-border:#000;--text-primary:#fff;--text-secondary:#e2e8f0;--dark-mode-status-svg:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmN2ZhZmMiIHdpZHRoPSIzMHB4IiBoZWlnaHQ9IjMwcHgiPjxwYXRoIGQ9Ik0xNC45ODQuOTg2QTEgMSAwIDAwMTQgMnYzYTEgMSAwIDEwMiAwVjJBMSAxIDAgMDAxNC45ODQuOTg2ek01Ljc5NyA0LjhhMSAxIDAgMDAtLjY5NSAxLjcxN2wyLjEyIDIuMTJhMSAxIDAgMTAxLjQxNS0xLjQxM0w2LjUxNiA1LjEwMmExIDEgMCAwMC0uNzItLjMwM3ptMTguMzc1IDBhMSAxIDAgMDAtLjY4OC4zMDNsLTIuMTIgMi4xMmExIDEgMCAxMDEuNDEzIDEuNDE1bDIuMTIxLTIuMTIxYTEgMSAwIDAwLS43MjYtMS43MTd6TTE1IDhhNyA3IDAgMDAtNyA3IDcgNyAwIDAwNyA3IDcgNyAwIDAwNy03IDcgNyAwIDAwLTctN3pNMiAxNGExIDEgMCAxMDAgMmgzYTEgMSAwIDEwMC0ySDJ6bTIzIDBhMSAxIDAgMTAwIDJoM2ExIDEgMCAxMDAtMmgtM3pNNy45MSAyMS4wNmExIDEgMCAwMC0uNjg3LjMwM2wtMi4xMjEgMi4xMjFhMSAxIDAgMTAxLjQxNCAxLjQxNGwyLjEyLTIuMTJhMSAxIDAgMDAtLjcyNi0xLjcxN3ptMTQuMTUgMGExIDEgMCAwMC0uNjk3IDEuNzE3bDIuMTIxIDIuMTIxYTEgMSAwIDEwMS40MTQtMS40MTRsLTIuMTItMi4xMmExIDEgMCAwMC0uNzE3LS4zMDN6bS03LjA3NiAyLjkyNkExIDEgMCAwMDE0IDI1djNhMSAxIDAgMTAyIDB2LTNhMSAxIDAgMDAtMS4wMTYtMS4wMTR6Ii8+PC9zdmc+);--header-bg-color:#333;--text-blue:#0081cb}body{font-family:inter}#gatsby-focus-wrapper{background-color:var(--clr-secondary)}.text-primary{color:var(--text-primary)}a{outline:0}.link{color:var(--text-blue);font-weight:600}.link:hover{text-decoration:underline}.site-container{display:grid;grid-template-areas:"header header header" "blogs blogs blogs" "footer footer footer";grid-template-rows:auto 1fr auto;min-height:100vh;background:var(--clr-secondary)}.site-header{grid-area:header;justify-self:stretch;align-self:stretch;position:fixed;top:0;height:76px;width:100%;z-index:1;background:var(--header-bg-color);border-color:var(--clr-border);transition:top .3s;box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.site-header.hide{top:-76px}.dark-mode-toggle-button{background-image:var(--dark-mode-status-svg);height:30px;width:30px;overflow:visible;border:none}.container-404{display:grid;grid-template-areas:"content" "info-nav";justify-items:center;margin-top:92px;margin-left:16px;margin-right:16px}.content-404{grid-area:content;display:flex;flex-direction:column;text-align:center}.container-box{grid-area:blogs;width:100vw;justify-self:stretch;align-self:stretch}.latestBlogPosts{display:grid;grid-template-columns:1fr;grid-auto-rows:1fr;margin-top:92px;margin-left:16px;margin-right:16px}.blog-thumbnail{width:250px;align-self:stretch}.card-class{background-color:var(--clr-primary);border-color:var(--clr-border)}.card-title{font-size:1.25rem;color:var(--text-primary)}.card-date{color:var(--text-secondary)}.card-text{padding:20px}.footer{grid-area:footer;justify-self:center;color:var(--text-primary)}.heart{color:var(--heart-color)}.markdown-container{position:relative;top:76px;display:grid;grid-template-columns:1fr 800px 1fr;grid-template-areas:"header header header" "cover cover cover" "sidebar1 content sidebar2" "info-nav info-nav info-nav" "footer footer footer";background-color:var(--clr-secondary)}.cover-image{margin-top:16px;grid-area:cover;max-width:900px;width:100vw;justify-self:center}.markdown-content{grid-area:content;padding-left:50px;padding-right:50px;background-color:var(--clr-primary);border-radius:.5rem;overflow:hidden;box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.tag-blogs-container{display:grid;grid-template-areas:"header header header" "blogs blogs blogs" "info-nav info-nav info-nav" "footer footer footer";grid-template-rows:auto auto 1fr auto;min-height:100vh;background:var(--clr-secondary)}.info-nav{grid-area:info-nav;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;padding-top:16px}.info-nav>*{margin-left:10px;margin-right:10px}.padding-top-6px{padding-top:6px}.tags-container{position:relative;top:76px;margin-top:16px;display:grid;grid-template-columns:1fr 900px 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"sidebar-1 content sidebar-2" "info-nav info-nav info-nav" "footer footer footer";min-height:100vh;padding-left:20px;padding-right:20px;background-color:var(--clr-secondary)}.tags-list{grid-area:content;display:flex;flex-wrap:wrap;align-items:flex-start;align-content:flex-start;justify-content:center}.tags-list.mark{justify-content:flex-start}.tag{background-color:var(--clr-primary);color:var(--text-primary);overflow:hidden;margin-right:10px;margin-bottom:10px}.tag.mark{background-color:var(--clr-secondary)}.tag:hover{transform:scale(1.1)}@media (max-width:940px){.tags-container{grid-template-columns:0 1fr 0}}@media (min-width:900px){.cover-image{border-radius:.5rem;overflow:hidden}}@media (max-width:800px){.markdown-container{grid-template-columns:0 1fr 0}.markdown-content{padding-left:20px;padding-right:20px}.blog-thumbnail{width:200px;min-width:200px}.card-text{padding:10px}}@media (max-width:500px){.blog-thumbnail{width:150px;min-width:150px}.card-text{padding:5px}.info-nav{flex-direction:column;align-items:center;justify-content:flex-start}.info-nav>*{margin-left:3px;margin-right:3px}.in-row{flex-direction:row;justify-content:center}.info-nav.in-row>*{margin-left:10px;margin-right:10px}}@media (max-width:400px){.card-title{font-size:1.2rem}.card-date{font-size:.9rem}.markdown-content{padding-left:10px;padding-right:10px}}:root{--text-gray-900:#1a202c;--text-gray-600:#718096;--bg-gray-200:#edf2f7;--bg-gray-100:#f7fafc;--border-gray-300:#e2e8f0;--border-gray-600:#718096;--text-blue-600:#3182ce}.dark-mode{--text-gray-900:#f7fafc;--text-gray-600:#cbd5e0;--bg-gray-200:#2d3748;--bg-gray-100:#1a202c;--border-gray-300:#4a5568;--border-gray-600:#cbd5e0;--text-blue-600:#0081cb}.py-05{padding-top:.125rem;padding-bottom:.125rem}.markdown{color:var(--text-gray-900);line-height:1.5;overflow-wrap:break-word}.markdown>*+*{margin-top:0;margin-bottom:1rem}.markdown li+li{margin-top:.25rem}.markdown li>p+p{margin-top:1.5rem}.markdown strong{font-weight:600}.markdown a:not(.tag){color:var(--text-blue-600);font-weight:600}.markdown a:hover:not(.tag){text-decoration:underline}.markdown strong a{font-weight:700}.markdown h1{font-size:2.25rem}.markdown h1,.markdown h2{line-height:1.25;font-weight:600;margin-bottom:1rem;margin-top:1.5rem;padding-bottom:.5rem}.markdown h2{font-size:1.5rem}.markdown h3{line-height:1.375;font-size:1.125rem}.markdown h3,.markdown h4{font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown h4{line-height:1;font-size:1rem}.markdown h5,.markdown h6{line-height:1.25;font-size:.875rem;font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown blockquote,.markdown h6{color:var(--text-gray-600)}.markdown blockquote{border-color:var(--border-gray-300);font-size:1rem;border-left-width:4px;padding-left:1rem;padding-right:1rem}.markdown code{background-color:var(--bg-gray-200);font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:.875rem;display:inline;border-radius:.25rem;padding:.125rem .25rem}.markdown pre{background-color:var(--bg-gray-100);overflow:auto;border-radius:.25rem;padding:1rem}.markdown pre code{display:block;background-color:transparent;padding:0;overflow:visible;border-radius:0}.markdown ul{font-size:1rem;list-style-type:disc}.markdown ol{font-size:1rem;padding-left:2rem;list-style-type:decimal}.markdown kbd{font-size:.75rem;display:inline-block;border-radius:.25rem;border-width:1px;padding:.125rem .25rem;vertical-align:middle;font-weight:400;font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.markdown table{border-color:var(--border-gray-600);font-size:1rem}.markdown td,.markdown th{border-width:1px;padding:.25rem .75rem}.markdown .highlight pre{--bg-opacity:1!important;background-color:#f7fafc!important;background-color:rgba(247,250,252,var(--bg-opacity))!important}</style><meta name="generator" content="Gatsby 2.21.23"/><title data-react-helmet="true">How I Added A Dark Mode Toggle In My Blog | Inferno&#x27;s Blog</title><meta data-react-helmet="true" name="description" content="Blazing fast personal blog site created using GatsbyJS and Tailwind CSS."/><meta data-react-helmet="true" property="og:title" content="How I Added A Dark Mode Toggle In My Blog"/><meta data-react-helmet="true" property="og:description" content="Blazing fast personal blog site created using GatsbyJS and Tailwind CSS."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Adarsh Menon"/><meta data-react-helmet="true" name="twitter:title" content="How I Added A Dark Mode Toggle In My Blog"/><meta data-react-helmet="true" name="twitter:description" content="Blazing fast personal blog site created using GatsbyJS and Tailwind CSS."/><link rel="icon" href="/blog/favicon-32x32.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="manifest" href="/blog/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link as="script" rel="preload" href="/blog/webpack-runtime-4c96760f137aa54d216e.js"/><link as="script" rel="preload" href="/blog/framework-8770a85f31e633ae9ae0.js"/><link as="script" rel="preload" href="/blog/app-e9da9579eeb9a40f73d6.js"/><link as="script" rel="preload" href="/blog/styles-f12963b3798c232a68f6.js"/><link as="script" rel="preload" href="/blog/2d7152c901d410489e89bfe891739abdce17d314-a71bcc05ffa541897a2d.js"/><link as="script" rel="preload" href="/blog/bf42d4b744369dc62c31988d9637cdc515ce8a3d-2e7403e8bb8de1607c6b.js"/><link as="script" rel="preload" href="/blog/component---src-templates-post-js-8af587ac2c0e49c3c64a.js"/><link as="fetch" rel="preload" href="/blog/page-data\dark-mode-toggle\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data\app-data.json" crossorigin="anonymous"/></head><body><script>!function(e,a,o){function d(e){document.body.classList.add(e?"dark-mode":"light-mode"),document.body.classList.remove(e?"light-mode":"dark-mode")}var t=window.matchMedia("(prefers-color-scheme: dark)"),r="(prefers-color-scheme: dark)"===t.media,s=null;try{s=localStorage.getItem("dark-mode")}catch(e){}var c=null!==s;if(c&&(s=JSON.parse(s)),c)d(s);else if(r)d(t.matches),localStorage.setItem("dark-mode",t.matches);else{var m=document.body.classList.contains("dark-mode");localStorage.setItem("dark-mode",JSON.stringify(m))}}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="site-header" id="site-header" style="margin-bottom:16px"><div style="display:flex;margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 class="text-xl" style="margin:0;flex-grow:1"><a style="color:white;text-decoration:none" href="/blog/">Inferno&#x27;s Blog</a></h1><button id="dark-mode-toggle-button" aria-label="Toggle dark mode" class="dark-mode-toggle-button" style="outline:none"></button></div></header><div class="markdown-container"><div class="cover-image gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:75.11111111111111%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABQD/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABYCdARupf/8QAGRABAQADAQAAAAAAAAAAAAAAAgMABCEz/9oACAEBAAEFAs26UNh0ZuBKw8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAADAAMBAAAAAAAAAAAAAAAAAQIQEXFB/9oACAEBAAY/AhqaaWieY2l4Tw//xAAZEAEBAQEBAQAAAAAAAAAAAAABABEhQTH/2gAIAQEAAT8hLNnjgzVPVFz2Y6hHscB+gv/aAAwDAQACAAMAAAAQ3y//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAQACAwAAAAAAAAAAAAABEQBhgSFBUf/aAAgBAQABPxCC2d42o8RFznqJX2w1FEl+ZKIqxzzmKQNOjf/Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/4ba40138b449d1925e51f74418ddd973/551e0/light-dark.jpg 225w,
/static/4ba40138b449d1925e51f74418ddd973/6db3c/light-dark.jpg 450w,
/static/4ba40138b449d1925e51f74418ddd973/2ea1d/light-dark.jpg 900w,
/static/4ba40138b449d1925e51f74418ddd973/b28a0/light-dark.jpg 1350w,
/static/4ba40138b449d1925e51f74418ddd973/041cc/light-dark.jpg 1366w" sizes="(max-width: 900px) 100vw, 900px" /><img loading="lazy" sizes="(max-width: 900px) 100vw, 900px" srcset="/static/4ba40138b449d1925e51f74418ddd973/551e0/light-dark.jpg 225w,
/static/4ba40138b449d1925e51f74418ddd973/6db3c/light-dark.jpg 450w,
/static/4ba40138b449d1925e51f74418ddd973/2ea1d/light-dark.jpg 900w,
/static/4ba40138b449d1925e51f74418ddd973/b28a0/light-dark.jpg 1350w,
/static/4ba40138b449d1925e51f74418ddd973/041cc/light-dark.jpg 1366w" src="/static/4ba40138b449d1925e51f74418ddd973/2ea1d/light-dark.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="markdown markdown-content mt-4 mb-2"><h1>How I Added A Dark Mode Toggle In My Blog</h1><ul class="tags-list mark"><a class="tag mark rounded-full p-1" href="/blog/tags/how-to/">how-to</a><a class="tag mark rounded-full p-1" href="/blog/tags/css-variables/">css-variables</a><a class="tag mark rounded-full p-1" href="/blog/tags/javascript/">javascript</a><a class="tag mark rounded-full p-1" href="/blog/tags/theme/">theme</a><a class="tag mark rounded-full p-1" href="/blog/tags/color/">color</a><a class="tag mark rounded-full p-1" href="/blog/tags/gatsby-plugin/">gatsby-plugin</a></ul><h6>May 16 2020</h6><h2>Why add a dark mode toggle?</h2><p>Having a dark mode toggle is really important nowadays. It&#x27;s pleasing to the eye and almost a necessity in dark environments. So, I made
it one of the first features to be implemented in this website. </p><p>Though adding it was pretty straightforward (thanks to CSS variables!), it took quite some time as I had to edit and add a lot of styles in
CSS. If you&#x27;re considering adding a dark mode to your website, I&#x27;d suggest you to do it early on. That way there should be less sytles
to change.</p><h2>Implementation (Get ready for a lot of CSS üòÅ)</h2><p>First of all, l globally declared all my light mode colors in CSS,</p><pre><code class="language-css">:root {
  --clr-primary: #ffffff;
  --clr-secondary: #f7fafc;
  --clr-border: #dde0e2;
  --text-primary: #000000;
  --text-secondary: #4a5568;
  --header-bg-color: #663399;
}
</code></pre><p>and my dark mode colors in a class <code>dark-mode</code>.</p><pre><code class="language-css">.dark-mode {
  --clr-primary: #333333;
  --clr-secondary: #212121;
  --clr-border: #000000;
  --text-primary: #ffffff;
  --text-secondary: #e2e8f0;
  --header-bg-color: #333333;
}
</code></pre><p>Then, I configured my CSS styles to use these variables. For example:</p><pre><code class="language-css">.site-header {
  grid-area: header;
  justify-self: stretch;
  align-self: stretch;
  background: var(--header-bg-color); // 1
  border-color: var(--clr-border); // 2
}
.card-class {
  background-color: var(--clr-primary); // 3
  border-color: var(--clr-border); // 4
}
</code></pre><p>What&#x27;s going to happen is that when a class of <code>dark-mode</code> is set to any element, the dark-mode colors override the default colors
(only for elements inside it!). When the class is removed, the default colors get back in place.</p><p>You can try it out yourself by opening dev tools and adding (or removing) the class <code>dark-mode</code> to an element (<code>html</code> or <code>body</code> for full
effect!).</p><p>Next, I hooked up a button (in the header) with a JS function to toggle the class <code>dark-mode</code> on the body element when clicked.
To remember the state of the theme (light or dark), I stored a key value pair in local storage.</p><pre><code class="language-javascript">export function toggleDarkMode() {
  const body = document.body
  if (body.classList.toggle(&quot;dark-mode&quot;)) {
    localStorage.setItem(&quot;dark-mode&quot;, true)
  } else {
    localStorage.setItem(&quot;dark-mode&quot;, false)
  }
}
</code></pre><p>The button toggles the theme, everything displays fine in both the modes and user-preference is remembered in local storage.
However, I haven&#x27;t given any code which checks local storage on page load and sets the theme to the user&#x27;s preference.</p><p>I did just that initially, but ran into a problem.</p><h3>The Problem</h3><p>If the user&#x27;s preference was set to dark mode, then on page reload (or on a later visit), the light theme would show for a fraction of a
second before turning dark. Basically equivalent to a white flash. Though a minor issue, it was quite annoying. While searching online
for a fix, I stumbled upon an awesome Gatsby plugin called
<a href="https://www.gatsbyjs.org/packages/gatsby-plugin-use-dark-mode/"><code>gatsby-plugin-use-dark-mode</code></a>.</p><h2>Gatsby Plugin Use Dark Mode</h2><p>This plugin prevents the flash of the default theme. You can find out how it works over
<a href="https://github.com/donavon/use-dark-mode#that-flash">here</a>. To top it off, it also queries the
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme"><code>prefers-color-scheme</code></a> media query on page load
and applies the user&#x27;s preferred theme automatically!</p><p> A really nifty plugin to have! Especially after spending long hours setting up a dark mode toggle.</p><p> You can find the full source code for this dark mode implementation at this project&#x27;s
<a href="https://github.com/InfernoCoder11/personal-blog">github repository</a>.</p></div><div class="info-nav in-row text-primary mb-2"><a class="link" href="/blog/changelog-1">Previous</a><a class="link" href="/blog/tags/">All tags</a><a class="link" href="/blog/">Home</a><a class="link" href="/blog/first-blog">Next</a></div><footer class="footer pb-2">Made with <span class="heart text-lg">‚ù§</span> by Adarsh Menon</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/dark-mode-toggle";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e9da9579eeb9a40f73d6.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0f2fd2a66d3b1a2e444e.js"],"component---src-pages-changelog-index-mdx":["/component---src-pages-changelog-index-mdx-e625117df47b19860c6e.js"],"component---src-pages-dark-mode-index-mdx":["/component---src-pages-dark-mode-index-mdx-bcf15bf5883ac2d24f6d.js"],"component---src-pages-first-blog-post-index-mdx":["/component---src-pages-first-blog-post-index-mdx-8692188b113c4e9eba02.js"],"component---src-pages-index-js":["/component---src-pages-index-js-33d2600fc993b3bbdf74.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-57c6faa209de34a48530.js"],"component---src-templates-post-js":["/component---src-templates-post-js-8af587ac2c0e49c3c64a.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-6ca5dabc474c03e8be37.js"]};/*]]>*/</script><script src="/blog/component---src-templates-post-js-8af587ac2c0e49c3c64a.js" async=""></script><script src="/blog/bf42d4b744369dc62c31988d9637cdc515ce8a3d-2e7403e8bb8de1607c6b.js" async=""></script><script src="/blog/2d7152c901d410489e89bfe891739abdce17d314-a71bcc05ffa541897a2d.js" async=""></script><script src="/blog/styles-f12963b3798c232a68f6.js" async=""></script><script src="/blog/app-e9da9579eeb9a40f73d6.js" async=""></script><script src="/blog/framework-8770a85f31e633ae9ae0.js" async=""></script><script src="/blog/webpack-runtime-4c96760f137aa54d216e.js" async=""></script></body></html>